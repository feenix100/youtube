<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CODE RED — Busy Mode</title>

  <style>
    /* =========================================================
       Base
    ========================================================== */
    :root{
      --bg:#0b1020;
      --panel:rgba(255,255,255,0.06);
      --border:rgba(255,255,255,0.14);
      --text:#eaf0ff;
      --muted:rgba(234,240,255,0.70);

      --red:#ef4444;
      --amber:#f59e0b;
      --green:#22c55e;
      --cyan:#38bdf8;
      --violet:#a78bfa;

      --r:16px;
      --shadow:0 18px 60px rgba(0,0,0,0.55);
      --mono: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
      --sans: ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial,"Apple Color Emoji","Segoe UI Emoji";
    }

    *{ box-sizing:border-box }
    body{
      margin:0;
      font-family:var(--sans);
      background: radial-gradient(900px 600px at 20% 15%, rgba(124,58,237,0.20), transparent 60%),
                  radial-gradient(800px 520px at 80% 70%, rgba(56,189,248,0.14), transparent 60%),
                  radial-gradient(700px 460px at 55% 35%, rgba(34,197,94,0.10), transparent 62%),
                  linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.0)),
                  var(--bg);
      color:var(--text);
      line-height:1.45;
      overflow-x:hidden;
    }

    .wrap{ max-width:1150px; margin:0 auto; padding:22px; }
    header{
      display:flex; gap:14px; align-items:flex-start; justify-content:space-between;
      margin-bottom:16px;
    }
    h1{ margin:0; font-size:1.35rem; letter-spacing:.2px; }
    p{ margin:6px 0 0; color:var(--muted); max-width:75ch; }

    .card{
      background:var(--panel);
      border:1px solid var(--border);
      border-radius:var(--r);
      box-shadow:var(--shadow);
      padding:14px;
      backdrop-filter: blur(10px);
    }

    .grid{
      display:grid;
      grid-template-columns: 0.9fr 1.1fr;
      gap:14px;
      align-items:start;
    }
    @media (max-width: 980px){ .grid{ grid-template-columns:1fr; } }

    /* =========================================================
       CODE RED Button (the hero)
    ========================================================== */
    .codered-btn{
      --x:50%;
      --y:50%;
      appearance:none;
      border:1px solid rgba(255,255,255,0.18);
      border-radius:16px;
      padding:14px 16px;
      font-weight:1000;
      letter-spacing:0.7px;
      cursor:pointer;
      color:rgba(255,255,255,0.94);
      position:relative;
      overflow:hidden;
      width: fit-content;
      background:
        radial-gradient(140px 110px at var(--x) var(--y), rgba(255,255,255,0.22), transparent 60%),
        linear-gradient(180deg, rgba(239,68,68,0.92), rgba(185,28,28,0.92));
      box-shadow:
        0 18px 60px rgba(0,0,0,0.55),
        0 0 0 1px rgba(255,255,255,0.06) inset,
        0 0 22px rgba(239,68,68,0.25);
      transition: transform 160ms ease, filter 160ms ease, box-shadow 160ms ease;
      user-select:none;
    }
    .codered-btn:hover{
      transform: translateY(-2px);
      filter: brightness(1.08);
      box-shadow:
        0 22px 70px rgba(0,0,0,0.62),
        0 0 0 1px rgba(255,255,255,0.08) inset,
        0 0 30px rgba(239,68,68,0.35);
    }
    .codered-btn:active{ transform: translateY(0px) scale(0.99); }
    .codered-btn:focus-visible{ outline:3px solid rgba(239,68,68,0.35); outline-offset:3px; }

    /* Gloss + hazard stripes */
    .codered-btn::before{
      content:"";
      position:absolute; inset:-40% -60%;
      background:
        repeating-linear-gradient(45deg,
          rgba(0,0,0,0.14) 0 10px,
          rgba(255,255,255,0.08) 10px 20px);
      opacity:0.55;
      transform: translateX(-10%) translateY(-10%);
      pointer-events:none;
      transition: opacity 160ms ease;
    }
    .codered-btn:hover::before{ opacity:0.70; }

    /* Shine sweep */
    .codered-btn::after{
      content:"";
      position:absolute; inset:-25% -60%;
      background: linear-gradient(120deg, transparent 45%, rgba(255,255,255,0.30) 52%, transparent 60%);
      transform: translateX(-55%);
      opacity:0;
      transition: opacity 220ms ease, transform 720ms ease;
      pointer-events:none;
    }
    .codered-btn:hover::after{
      opacity:1;
      transform: translateX(45%);
    }

    .codered-btn .label{
      position:relative; z-index:2;
      display:inline-flex; align-items:center; gap:10px;
    }
    .pill{
      font-family:var(--mono);
      font-size:0.78rem;
      padding:3px 8px;
      border-radius:999px;
      background: rgba(0,0,0,0.18);
      border:1px solid rgba(255,255,255,0.14);
      opacity:0.92;
    }

    /* =========================================================
       "Busy Mode" Dashboard
       - Default state is calm. CODE RED activates hyper animations.
    ========================================================== */
    .topbar{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      margin-bottom:12px;
    }
    .status{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center;
      color:var(--muted);
      font-family:var(--mono);
      font-size:0.90rem;
    }
    .dot{
      width:9px; height:9px; border-radius:999px;
      display:inline-block; margin-right:6px;
      background: rgba(255,255,255,0.25);
      box-shadow: 0 0 0 1px rgba(255,255,255,0.10) inset;
    }

    .panels{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }
    @media (max-width: 980px){ .panels{ grid-template-columns:1fr; } }

    .panel{
      border:1px solid rgba(255,255,255,0.14);
      border-radius:14px;
      background: rgba(0,0,0,0.22);
      box-shadow: 0 14px 44px rgba(0,0,0,0.45);
      overflow:hidden;
      position:relative;
    }
    .panel header{
      margin:0;
      padding:10px 12px;
      border-bottom:1px solid rgba(255,255,255,0.12);
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
    }
    .panel h2{
      margin:0;
      font-size:0.95rem;
      letter-spacing:0.2px;
    }
    .panel .meta{
      font-family:var(--mono);
      font-size:0.82rem;
      color:rgba(234,240,255,0.66);
    }
    .panel .body{
      padding:12px;
    }

    /* --- Fake charts / widgets (CSS-only) --- */
    .meter-row{ display:flex; gap:10px; flex-wrap:wrap; }
    .meter{
      flex:1;
      min-width:160px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.05);
      padding:10px;
      position:relative;
      overflow:hidden;
    }
    .meter .t{
      display:flex; justify-content:space-between; gap:10px;
      font-family:var(--mono);
      font-size:0.82rem;
      color:rgba(234,240,255,0.75);
      margin-bottom:8px;
    }
    .bar{
      height:10px;
      border-radius:999px;
      background: rgba(255,255,255,0.08);
      overflow:hidden;
      position:relative;
    }
    .bar > i{
      display:block;
      height:100%;
      width:55%;
      border-radius:999px;
      background: linear-gradient(90deg, rgba(56,189,248,0.65), rgba(167,139,250,0.55));
      box-shadow: 0 0 18px rgba(56,189,248,0.15);
    }
    .bar > i::after{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(120deg, transparent 45%, rgba(255,255,255,0.26) 52%, transparent 60%);
      transform: translateX(-55%);
      opacity:0.0;
    }

    /* Sparkline */
    .spark{
      height:54px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,0.14);
      background:
        linear-gradient(to right, rgba(255,255,255,0.06) 1px, transparent 1px) 0 0 / 18px 100%,
        linear-gradient(to bottom, rgba(255,255,255,0.06) 1px, transparent 1px) 0 0 / 100% 18px,
        rgba(255,255,255,0.04);
      position:relative;
      overflow:hidden;
    }
    .spark::before{
      content:"";
      position:absolute; inset:-30% -20%;
      background:
        radial-gradient(circle at 20% 70%, rgba(34,197,94,0.20), transparent 45%),
        radial-gradient(circle at 70% 30%, rgba(56,189,248,0.20), transparent 45%),
        linear-gradient(90deg, transparent, rgba(255,255,255,0.10), transparent);
      transform: translateX(-35%);
      opacity:0.55;
    }
    .spark::after{
      content:"";
      position:absolute; left:8px; right:8px; top:10px; bottom:10px;
      border-radius:10px;
      background:
        linear-gradient(135deg,
          rgba(56,189,248,0.00) 0%,
          rgba(56,189,248,0.55) 22%,
          rgba(167,139,250,0.50) 50%,
          rgba(34,197,94,0.45) 72%,
          rgba(34,197,94,0.00) 100%);
      -webkit-mask: linear-gradient(#000 0 0);
      clip-path: polygon(
        0% 70%, 10% 62%, 20% 66%, 30% 44%, 40% 50%, 50% 35%,
        60% 40%, 70% 28%, 80% 36%, 90% 22%, 100% 30%,
        100% 100%, 0% 100%
      );
      opacity:0.38;
    }

    /* Terminal log (CSS scroll illusion) */
    .term{
      height:220px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,0.14);
      background:
        radial-gradient(700px 220px at 20% 10%, rgba(56,189,248,0.10), transparent 60%),
        rgba(0,0,0,0.45);
      overflow:hidden;
      position:relative;
      font-family:var(--mono);
      font-size:0.83rem;
      color:rgba(234,240,255,0.80);
    }
    .term .lines{
      position:absolute;
      left:12px; right:12px; top:12px;
      display:grid;
      gap:6px;
      /* default: not moving */
      transform: translateY(0);
    }
    .ln{ opacity:0.9; }
    .k{ color: rgba(56,189,248,0.95); }
    .w{ color: rgba(245,158,11,0.95); }
    .g{ color: rgba(34,197,94,0.95); }
    .r{ color: rgba(239,68,68,0.95); }

    /* =========================================================
       CODE RED Active (body.codered)
       This is where it goes "insanely busy" via CSS.
    ========================================================== */

    /* Screen alarm scan + subtle shake */
    body.codered .wrap{
      animation: microShake 0.22s linear infinite;
    }
    @keyframes microShake{
      0%{transform:translate(0,0)}
      25%{transform:translate(0.6px,-0.4px)}
      50%{transform:translate(-0.4px,0.6px)}
      75%{transform:translate(0.5px,0.2px)}
      100%{transform:translate(0,0)}
    }

    body.codered::after{
      content:"";
      position:fixed; inset:0;
      pointer-events:none;
      background:
        repeating-linear-gradient(
          0deg,
          rgba(255,255,255,0.00) 0px,
          rgba(255,255,255,0.00) 2px,
          rgba(255,255,255,0.035) 3px,
          rgba(255,255,255,0.00) 4px
        ),
        radial-gradient(900px 600px at 50% 20%, rgba(239,68,68,0.14), transparent 60%);
      mix-blend-mode: screen;
      opacity:0.75;
      animation: scan 1.2s linear infinite;
    }
    @keyframes scan{
      from{ transform: translateY(-10px); }
      to{ transform: translateY(10px); }
    }

    /* Button goes full alarm */
    body.codered .codered-btn{
      animation: alarmPulse 0.95s ease-in-out infinite;
      box-shadow:
        0 26px 90px rgba(0,0,0,0.72),
        0 0 0 1px rgba(255,255,255,0.10) inset,
        0 0 40px rgba(239,68,68,0.55),
        0 0 16px rgba(245,158,11,0.20);
    }
    @keyframes alarmPulse{
      0%,100%{ filter: brightness(1.00) saturate(1.1); transform: translateY(-2px) scale(1.00); }
      50%{ filter: brightness(1.18) saturate(1.35); transform: translateY(-3px) scale(1.01); }
    }

    /* Panels start moving */
    body.codered .panel{
      animation: panelGlow 1.35s ease-in-out infinite;
    }
    @keyframes panelGlow{
      0%,100%{ box-shadow: 0 14px 44px rgba(0,0,0,0.45); }
      50%{ box-shadow: 0 18px 60px rgba(0,0,0,0.60), 0 0 26px rgba(56,189,248,0.14); }
    }

    /* Progress bars animate + shine */
    body.codered .bar > i{
      animation: barWobble 0.9s ease-in-out infinite;
    }
    @keyframes barWobble{
      0%{ width:54%; }
      40%{ width:88%; }
      70%{ width:62%; }
      100%{ width:80%; }
    }
    body.codered .bar > i::after{
      opacity:1;
      animation: shine 0.85s ease-in-out infinite;
    }
    @keyframes shine{
      from{ transform: translateX(-60%); }
      to{ transform: translateX(60%); }
    }

    /* Sparkline shifts like it's updating */
    body.codered .spark::before{
      animation: sparkSweep 0.75s linear infinite;
    }
    @keyframes sparkSweep{
      from{ transform: translateX(-45%); }
      to{ transform: translateX(45%); }
    }

    /* Terminal autoscroll illusion */
    body.codered .term .lines{
      animation: scrollLogs 1.15s linear infinite;
    }
    @keyframes scrollLogs{
      from{ transform: translateY(0); }
      to{ transform: translateY(-180px); }
    }

    /* A "busy" ribbon */
    .busy-ribbon{
      display:none;
      margin-top:10px;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,0.14);
      background:
        repeating-linear-gradient(45deg, rgba(239,68,68,0.20) 0 10px, rgba(0,0,0,0.20) 10px 20px),
        rgba(255,255,255,0.05);
      box-shadow: 0 18px 60px rgba(0,0,0,0.55);
      font-family:var(--mono);
      font-weight:900;
      letter-spacing:0.4px;
    }
    body.codered .busy-ribbon{ display:block; }

    /* Motion safety */
    @media (prefers-reduced-motion: reduce){
      *{ animation:none !important; transition:none !important; }
      body.codered::after{ display:none; }
      .busy-ribbon{ display:block; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <div>
        <h1>CODE RED</h1>
        <p>Click the button to toggle “Busy Mode.” It’s deliberately over-styled: animated meters, scrolling logs, scanlines, and glow—mostly CSS.</p>
      </div>

      <button id="codeRedBtn" class="codered-btn" type="button" aria-pressed="false">
        <span class="label">CODE RED <span class="pill">BUSY MODE</span></span>
      </button>
    </header>

    <div class="grid">
      <section class="card">
        <div class="topbar">
          <div class="status">
            <span><span class="dot"></span>pipeline: <span class="k">active</span></span>
            <span><span class="dot"></span>tests: <span class="g">queued</span></span>
            <span><span class="dot"></span>deploy: <span class="w">staging</span></span>
          </div>
        </div>

        <div class="panels">
          <div class="panel">
            <header>
              <h2>Build Telemetry</h2>
              <div class="meta">cycle: 00:00:00</div>
            </header>
            <div class="body">
              <div class="meter-row">
                <div class="meter">
                  <div class="t"><span>CPU</span><span class="k">nominal</span></div>
                  <div class="bar"><i></i></div>
                </div>
                <div class="meter">
                  <div class="t"><span>IO</span><span class="w">burst</span></div>
                  <div class="bar"><i style="width:72%"></i></div>
                </div>
              </div>

              <div style="height:10px"></div>

              <div class="meter-row">
                <div class="meter">
                  <div class="t"><span>Cache</span><span class="g">warm</span></div>
                  <div class="bar"><i style="width:64%"></i></div>
                </div>
                <div class="meter">
                  <div class="t"><span>Latency</span><span class="k">stable</span></div>
                  <div class="bar"><i style="width:58%"></i></div>
                </div>
              </div>

              <div style="height:10px"></div>
              <div class="spark" aria-label="sparkline visualization"></div>
            </div>
          </div>

          <div class="panel">
            <header>
              <h2>Live Logs</h2>
              <div class="meta">tail -f</div>
            </header>
            <div class="body">
              <div class="term" role="region" aria-label="terminal log window">
                <div class="lines">
                  <div class="ln"><span class="k">[build]</span> resolving dependencies…</div>
                  <div class="ln"><span class="k">[lint]</span> ruleset loaded (strict)</div>
                  <div class="ln"><span class="g">[test]</span> unit suite started</div>
                  <div class="ln"><span class="k">[cache]</span> hit ratio 0.92</div>
                  <div class="ln"><span class="w">[warn]</span> retrying request (backoff=64ms)</div>
                  <div class="ln"><span class="k">[trace]</span> span=auth.verify latency=4.2ms</div>
                  <div class="ln"><span class="g">[ok]</span> shard rebalanced</div>
                  <div class="ln"><span class="k">[build]</span> compiling modules…</div>
                  <div class="ln"><span class="k">[trace]</span> span=db.query rows=128</div>
                  <div class="ln"><span class="g">[ok]</span> tests passed (128/128)</div>
                  <div class="ln"><span class="w">[warn]</span> minor drift detected (resync)</div>
                  <div class="ln"><span class="k">[deploy]</span> staging rollout 12%</div>
                  <div class="ln"><span class="k">[trace]</span> span=ws.sync ack=1</div>
                  <div class="ln"><span class="g">[ok]</span> staging healthy</div>
                  <div class="ln"><span class="r">[hot]</span> optimizing render path…</div>

                  <!-- repeat block for smooth scroll illusion -->
                  <div class="ln"><span class="k">[build]</span> resolving dependencies…</div>
                  <div class="ln"><span class="k">[lint]</span> ruleset loaded (strict)</div>
                  <div class="ln"><span class="g">[test]</span> unit suite started</div>
                  <div class="ln"><span class="k">[cache]</span> hit ratio 0.92</div>
                  <div class="ln"><span class="w">[warn]</span> retrying request (backoff=64ms)</div>
                  <div class="ln"><span class="k">[trace]</span> span=auth.verify latency=4.2ms</div>
                  <div class="ln"><span class="g">[ok]</span> shard rebalanced</div>
                  <div class="ln"><span class="k">[build]</span> compiling modules…</div>
                  <div class="ln"><span class="k">[trace]</span> span=db.query rows=128</div>
                  <div class="ln"><span class="g">[ok]</span> tests passed (128/128)</div>
                  <div class="ln"><span class="w">[warn]</span> minor drift detected (resync)</div>
                  <div class="ln"><span class="k">[deploy]</span> staging rollout 12%</div>
                  <div class="ln"><span class="k">[trace]</span> span=ws.sync ack=1</div>
                  <div class="ln"><span class="g">[ok]</span> staging healthy</div>
                  <div class="ln"><span class="r">[hot]</span> optimizing render path…</div>
                </div>
              </div>

              <div class="busy-ribbon" aria-live="polite">
                BUSY MODE ACTIVE — systems are “definitely” doing important work
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="card">
        <div class="section-title">
          <h2>Quick Controls</h2>
          <div class="hint">Move mouse over the button for extra glow</div>
        </div>

        <div style="display:grid;gap:10px">
          <div style="font-family:var(--mono); color:rgba(234,240,255,0.78); font-size:0.92rem;">
            Toggle state: <span id="stateText" class="k">calm</span>
          </div>

          <div style="font-family:var(--mono); color:rgba(234,240,255,0.62); font-size:0.86rem;">
            CSS does most of the “busy.” JS only toggles <code>body.codered</code> and updates the button spotlight position.
          </div>
        </div>
      </section>
    </div>
  </div>

  <script>
    const btn = document.getElementById("codeRedBtn");
    const stateText = document.getElementById("stateText");

    function setState(active){
      document.body.classList.toggle("codered", active);
      btn.setAttribute("aria-pressed", String(active));
      stateText.textContent = active ? "CODE RED" : "calm";
      stateText.className = active ? "r" : "k";
    }

    btn.addEventListener("click", () => {
      setState(!document.body.classList.contains("codered"));
    });

    // Pointer-follow glow on the CODE RED button (tiny JS, big payoff)
    btn.addEventListener("mousemove", (e) => {
      const r = btn.getBoundingClientRect();
      const x = ((e.clientX - r.left) / r.width) * 100;
      const y = ((e.clientY - r.top) / r.height) * 100;
      btn.style.setProperty("--x", x.toFixed(2) + "%");
      btn.style.setProperty("--y", y.toFixed(2) + "%");
    });
    btn.addEventListener("mouseleave", () => {
      btn.style.setProperty("--x", "50%");
      btn.style.setProperty("--y", "50%");
    });
  </script>
</body>
</html>
